(this["webpackJsonpcapstone-travel"]=this["webpackJsonpcapstone-travel"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(13),c=n.n(a),s=(n(28),n(2)),i=(n(29),n(18)),o=n(3),l=n(5),d=n.n(l),u=n(8),j=n(4),p=(n(31),n(9)),h=n(0),b=function(e){e.id;var t=e.departureCode,n=e.departureTerminal,a=e.departureTime,c=e.arrivalCode,s=e.arrivalTerminal,i=(e.arrivalTime,e.duration),o=(e.carrierCode,e.aircraftCode,e.priceCurrency),l=e.priceTotal,d=(e.priceBase,e.priceFees,e.fareOption,e.cabin,e.weightOfIncludedCHeckedBags,Object(r.useState)(!1)),u=Object(j.a)(d,2),p=u[0],b=u[1],O=Object(r.useState)(),x=Object(j.a)(O,2),f=x[0],m=x[1],v=Object(r.useState)(),g=Object(j.a)(v,2),y=g[0],C=g[1],N=Object(r.useState)(!1),w=Object(j.a)(N,2),k=w[0],T=w[1],S=Object(r.useState)(!1),D=Object(j.a)(S,2),B=D[0],_=D[1],E=Object(r.useRef)();Object(r.useEffect)((function(){I(a)}),[a]);var I=function(e){var t=new Date(e),n=t.toDateString(),r=t.getHours().toString(),a=t.getMinutes().toString(),c=t.getTimezoneOffset();console.log(t.toUTCString(),t.toTimeString),console.log("Converted: ",n,", ",r,".",a+c);var s=r+"."+a;m(n),C(s)},A=function(){T(!k)};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"collapsible",children:[Object(h.jsx)("button",{className:"toggle",onClick:function(){return b(!p)},style:{borderRadius:"20px",padding:"10px 20px"},children:Object(h.jsxs)("div",{className:"flex-align-center",children:[Object(h.jsxs)("h2",{children:["FROM: ",t]}),Object(h.jsxs)("h2",{children:["TO: ",c]}),Object(h.jsxs)("h2",{children:["PRICE: ",l,o]})]})}),Object(h.jsx)("div",{className:"content-parent",ref:E,style:p?{height:E.current.scrollHeight+"px",borderRadius:"20px",marginTop:"10px"}:{height:"0px",borderRadius:"20px",marginTop:"10px"},children:Object(h.jsxs)("div",{className:"content",children:[Object(h.jsxs)("div",{className:"flight-from",style:{width:"20%"},children:[Object(h.jsx)("div",{style:{marginRight:"10px"},children:y}),Object(h.jsx)("div",{children:t}),Object(h.jsxs)("div",{children:["terminal: ",n]})]}),Object(h.jsxs)("div",{className:"flight-duration-flex",children:[Object(h.jsxs)("div",{className:"d-flex",style:{display:"flex",justifyContent:"center",fontWeight:"500"},children:[Object(h.jsx)("div",{style:{marginRight:"10px"},children:f}),Object(h.jsx)("div",{children:i})]}),Object(h.jsx)("span",{className:"flight-line"})]}),Object(h.jsxs)("div",{className:"flight-to",children:[Object(h.jsx)("div",{children:y}),Object(h.jsx)("div",{children:c}),Object(h.jsxs)("div",{children:["terminal: ",s]})]}),Object(h.jsx)("div",{className:"buy-btn",onClick:A,children:"BUY"}),k?Object(h.jsxs)("div",{className:"buy-btn-modal",children:[Object(h.jsx)("h2",{children:"Ready to go?"}),Object(h.jsx)("p",{children:"Your email is the only thing keeping you and that ticket away from each other. Let's make this happen!"}),Object(h.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),_(!B)}(e)},children:[Object(h.jsx)("input",{type:"text",placeholder:"myEmail@gmail.com",id:"email-input"}),B?Object(h.jsx)("input",{type:"submit",disabled:!0}):Object(h.jsx)("input",{type:"submit"})]}),B?Object(h.jsx)("p",{style:{marginTop:"30px",fontWeight:"800"},children:"Your journey just begun!"}):null,Object(h.jsx)("span",{onClick:A,children:"X"})]}):null]})})]})})},O=function(e){e.history;var t=Object(r.useState)(!1),n=Object(j.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),o=Object(j.a)(i,2),l=(o[0],o[1]),p=Object(r.useState)({destinationLocationCode:"",departureDate:"2021-12-21",returnDate:"0",adults:1,kids:0,travelClass:"ECONOMY",nonStop:!0,maxPrice:"250",max:"30"}),O=Object(j.a)(p,2),x=O[0],f=O[1],m=Object(r.useState)([]),v=Object(j.a)(m,2),g=v[0],y=v[1];Object(r.useEffect)((function(){C()}),[]);var C=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N(),console.log("!!!!",t),e.next=4,w();case 4:return n=e.sent,e.next=7,k(n,t);case 7:return r=e.sent,e.next=10,S(n,r,x.adults,x.travelClass,x.nonStop);case 10:return a=e.sent,console.log("bam here: ",a),e.next=14,D(a);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=window.location.search;return new URLSearchParams(e).get("cityQuery")},w=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://test.api.amadeus.com/v1/security/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=client_credentials&client_id=Qib3QfOzZG1a6g8r8zX0Kx9XhtA8XBS6&client_secret=BzObmAeMp1ClNDtn"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.next=9,n;case 9:return r=e.sent,e.abrupt("return",r.access_token);case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();function k(e,t){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(d.a.mark((function e(t,n){var r,a,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n.length>2)){e.next=18;break}return e.next=4,fetch("https://test.api.amadeus.com/v1/reference-data/locations?subType=CITY&keyword="+n+"&sort=analytics.travelers.score&view=LIGHT&page%5Boffset%5D=0&page%5Blimit%5D=10",{headers:{Authorization:"Bearer "+t}});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,c=a.data,console.log("!!!",c),e.next=12,c[0].iataCode;case 12:return s=e.sent,console.log(s),i=s,e.abrupt("return",i);case 18:console.log("oops");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}var S=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,r,a,s,i,o,u=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"",n=u.length>1&&void 0!==u[1]?u[1]:"LON",r=u.length>2&&void 0!==u[2]?u[2]:1,a=u.length>3&&void 0!==u[3]?u[3]:"economy",s=u.length>4?u[4]:void 0,e.prev=5,e.next=8,fetch("https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=PAR&destinationLocationCode=".concat(n,"&departureDate=2021-12-21&adults=").concat(r,"&travelClass=").concat(a,"&nonStop=").concat(s,"&max=25"),{headers:{Authorization:"Bearer "+t}});case 8:return i=e.sent,e.next=11,i.json();case 11:return o=e.sent,console.log("here's the data",o),i.ok?c(!0):l(!0),e.abrupt("return",o);case 17:e.prev=17,e.t0=e.catch(5),console.log(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(){return e.apply(this,arguments)}}(),D=function(e){try{var t=e.data.map((function(e){return{id:e.itineraries[0].segments.map((function(e){return e.id})),departureCode:e.itineraries[0].segments.map((function(e){return e.departure.iataCode})),departureTerminal:e.itineraries[0].segments.map((function(e){return e.departure.terminal})),departureTime:e.itineraries[0].segments.map((function(e){return e.departure.at})),arrivalCode:e.itineraries[0].segments.map((function(e){return e.arrival.iataCode})),arrivalTerminal:e.itineraries[0].segments.map((function(e){return e.arrival.terminal})),arrivalTime:e.itineraries[0].segments.map((function(e){return e.arrival.at})),flightDuration:e.itineraries[0].segments[0].duration,carrierCode:e.itineraries[0].segments.map((function(e){return e.carrierCode})),aircraftCode:e.itineraries[0].segments.map((function(e){return e.aircraft.code})),priceCurrency:e.price.currency,priceTotal:e.price.total,priceBase:e.price.base,priceFees:e.price.fees.map((function(e){return e.amount+" "+e.type+" "})),fareOption:e.travelerPricings[0].fareOption,cabin:e.travelerPricings[0].fareDetailsBySegment[0].cabin,weightOfIncludedCHeckedBags:e.travelerPricings[0].fareDetailsBySegment.map((function(e){return e.includedCheckedBags.weight+"   "+e.includedCheckedBags.weightUnit}))}}));console.log("extruded",t),t?(y(t),console.log("selected data should be set =>   ",g)):console.log("no data in the new arr")}catch(n){console.log(n.message)}};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:" dark-banner",children:Object(h.jsx)("h2",{children:"Hit the road, Jack!"})}),Object(h.jsx)("div",{className:"header-bg",style:{height:"auto"},children:Object(h.jsxs)("div",{className:"p-page pt-30",children:[Object(h.jsx)("div",{className:"options-input-box",children:Object(h.jsx)("form",{children:Object(h.jsxs)("div",{className:"wokr-already",children:[Object(h.jsxs)("div",{className:"d-flex-column",children:[Object(h.jsx)("p",{children:"Non-Stop: "}),Object(h.jsx)("input",{type:"checkbox",onClick:function(){f(Object(s.a)(Object(s.a)({},x),{},{nonStop:!x.nonStop}))},defaultChecked:x.nonStop})]}),Object(h.jsxs)("div",{className:"d-flex-column",children:[Object(h.jsxs)("p",{children:["Adults ",Object(h.jsx)("small",{children:"(12+)"}),":"]}),Object(h.jsxs)("div",{className:"d-flex-row",style:{height:"2.8em"},children:[Object(h.jsx)("button",{onClick:function(e){return function(e){e.preventDefault();var t=x.adults+1;f(Object(s.a)(Object(s.a)({},x),{},{adults:t}))}(e)},children:"+"}),Object(h.jsx)("input",{type:"number",min:"1",value:x.adults}),Object(h.jsx)("button",{onClick:function(e){return function(e){e.preventDefault();var t=x.adults-1;f(Object(s.a)(Object(s.a)({},x),{},{adults:t}))}(e)},children:"-"})]})]}),Object(h.jsxs)("div",{className:"d-flex-column",children:[Object(h.jsx)("p",{children:"Departure: "}),Object(h.jsx)("input",{type:"date",value:x.departureDate})]}),Object(h.jsxs)("div",{className:"d-flex-column",children:[Object(h.jsx)("p",{children:"Arrival: "}),Object(h.jsx)("input",{type:"date"})]}),Object(h.jsxs)("div",{className:"display-inline-flex",children:[Object(h.jsx)("p",{children:"Travel Class: "}),Object(h.jsxs)("select",{children:[Object(h.jsx)("option",{children:"Economy"}),Object(h.jsx)("option",{children:"Premium Economy"}),Object(h.jsx)("option",{children:"Business"}),Object(h.jsx)("option",{children:"First"})]})]}),Object(h.jsx)("button",{onClick:function(e){return function(e){e.preventDefault()}(e)},class:"custom-search-btn",children:"Search"})]})})}),a?g?g.map((function(e){return Object(h.jsx)(b,{departureCode:e.departureCode,departureTerminal:e.departureTerminal,departureTime:e.departureTime,arrivalCode:e.arrivalCode,arrivalTerminal:e.arrivalTerminal,arrivalTime:e.arrivalTime,duration:e.flightDuration,carrierCode:e.carrierCode,aircraftCode:e.aircraftCode,priceCurrency:e.priceCurrency,priceTotal:e.priceTotal,priceBase:e.priceBase,priceFees:e.priceFees,fareOption:e.fareOption,cabin:e.cabin,weightOfIncludedCHeckedBags:e.weightOfIncludedCHeckedBags},e.id)})):"nah, bruh":Object(h.jsx)("div",{className:"loader"})]})})]})},x=n(21),f=function(e){return{type:"ADD_VID",payload:e}},m=function(e){return{type:"ADD_PHOTO",payload:e}};function v(e){var t=e.src,n=e.key,r=e.query;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("li",{style:{outline:r.length>4?"8px dashed #bbff27":"none",border:r.length>4?"22px solid #081405":"none"},children:Object(h.jsx)("img",{src:t,alt:"",className:""},n)})})}var g=function(e){e.id;var t=e.src,n=e.query;return Object(h.jsx)("li",{style:{outline:n.length>4?"8px dashed #bbff27":"none",border:n.length>4?"22px solid #081405":"none"},children:Object(h.jsx)("video",{autoPlay:!0,controls:!0,loop:!0,muted:!0,children:Object(h.jsx)("source",{src:t,type:"video/mp4"})})})},y=function(e){var t=e.history,n=Object(p.b)(),a=Object(r.useState)([]),c=Object(j.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(""),l=Object(j.a)(o,2),b=l[0],O=l[1],y=Object(r.useState)(""),C=Object(j.a)(y,2),N=C[0],w=C[1],k=Object(r.useState)([]),T=Object(j.a)(k,2),S=T[0],D=T[1],B=Object(p.c)((function(e){return e.photos.list})),_=Object(p.c)((function(e){return e.videos.list}));function E(){return(E=Object(u.a)(d.a.mark((function e(){var t,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.pexels.com/v1/search?query="+b+"&per_page=30",{method:"GET",headers:{Authorization:"563492ad6f91700001000001d99276bcb4d4402fbf7f8f502c81c2ba"}});case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,a=r.photos,console.log("!!photos",a),a?n(m(a)):console.log("no - photos"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function I(){return(I=Object(u.a)(d.a.mark((function e(){var t,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.pexels.com/videos/search?query="+b+"&per_page=15",{method:"GET",headers:{Authorization:"563492ad6f91700001000001d99276bcb4d4402fbf7f8f502c81c2ba"}});case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,a=r.videos,console.log("!!videos",a),a?n(f(a)):console.log("no"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}Object(r.useEffect)((function(){var e=[].concat(Object(x.a)(B),Object(x.a)(_));console.log("big",e);var t=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}};t(e),console.log("big big ",t),D(e)}),[B,_]),Object(r.useEffect)((function(){b.length>=4&&w(b)}),[b]),Object(r.useEffect)((function(){N.length>0&&(function(e){L.apply(this,arguments)}(N),A(N),function(){E.apply(this,arguments)}(),function(){I.apply(this,arguments)}())}),[N]);var A=function(e){var t=new URL(window.location.href);console.log(t)};function L(){return L=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://en.wikipedia.org/api/rest_v1/page/summary/"+t+"?redirect=false");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,i(r),console.log(s);case 8:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("div",{className:"header-bg",children:[Object(h.jsx)("div",{className:"head-line",children:Object(h.jsx)("h2",{children:'"Fuck it, let\'s go somewhere"'})}),Object(h.jsx)("div",{className:"p-page",children:Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(h.jsxs)("div",{className:"searchBar",children:[Object(h.jsx)("input",{id:"searchQueryInput",type:"text",name:"searchQueryInput",placeholder:"It all starts with a simple query...",value:b,onChange:function(e){O(e.target.value)}}),Object(h.jsx)("button",{id:"searchQuerySubmit",type:"submit",name:"searchQuerySubmit",children:Object(h.jsx)("svg",{viewBox:"0 0 24 24",children:Object(h.jsx)("path",{fill:"#666666",d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"})})})]})})})})]}),Object(h.jsx)("div",{className:"header-bg-dark",children:Object(h.jsxs)("div",{className:"p-page",children:[Object(h.jsxs)("div",{className:"travel-options-box-container",style:{display:N.length>4?"none":""},children:[Object(h.jsx)("div",{className:"travel-options-box relative",children:Object(h.jsx)("h2",{children:"Dublin"})}),Object(h.jsx)("div",{className:"travel-options-box relative",children:Object(h.jsx)("h2",{children:"Paris"})}),Object(h.jsx)("div",{className:"travel-options-box relative",children:Object(h.jsx)("h2",{children:"Tokyo"})}),Object(h.jsx)("div",{className:"travel-options-box relative",children:Object(h.jsx)("h2",{children:"Berlin"})})]}),Object(h.jsxs)("div",{className:"left-area-top",children:[Object(h.jsx)("h3",{children:b&&function(e){var t=e;return t=t.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")}(b)}),Object(h.jsxs)("div",{className:"d-flex-space",children:[Object(h.jsx)("div",{className:"left-side",children:Object(h.jsx)("p",{children:s.extract})}),Object(h.jsx)("div",{className:"right-side"})]})]})]})})]})," ",Object(h.jsx)("div",{className:"image-display",children:Object(h.jsx)("ul",{style:{paddingBottom:b.length>=4?"39px":"none"},children:S&&S.map((function(e){return e.alt?Object(h.jsx)(v,{src:e.src.medium,query:b},e.id):Object(h.jsx)(g,{id:e.id,src:e.video_files[0].link,query:b})}))})}),Object(h.jsxs)("div",{className:"d-flex align-center space-between change-page-btn",children:[Object(h.jsx)("h3",{className:"d-inline",children:"Interested? What are you waiting for?"}),Object(h.jsx)("button",{className:"pill-btn book-a-trip-btn",onClick:function(){t.push({pathname:"/flight"})},children:"Book a trip now!"})]}),Object(h.jsx)("div",{})]})};function C(){return Object(h.jsx)("h1",{children:"404 Page Not Found"})}var N=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(i.a,{children:[Object(h.jsx)("div",{className:"navbar p-page",children:Object(h.jsx)("h2",{children:"RapidPack*"})}),Object(h.jsx)(o.a,{path:"/home",exact:!0,render:function(e){return Object(h.jsx)(y,Object(s.a)({},e))}}),Object(h.jsx)(o.a,{path:"/flight",exact:!0,render:function(e){return Object(h.jsx)(O,Object(s.a)({},e))}}),Object(h.jsx)(o.a,{path:"/404",exact:!0,component:Object(h.jsx)(C,{})}),Object(h.jsx)("footer",{className:"p-page"})]})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},k=n(15),T={photos:{list:[]},videos:{list:[]},buyBtnIsOpen:{buyBtnIsOpen:!1}},S=Object(k.a)({photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.photos,t=arguments.length>1?arguments[1]:void 0;return"ADD_PHOTO"===t.type?Object(s.a)(Object(s.a)({},e),{},{list:t.payload}):e},videos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.videos,t=arguments.length>1?arguments[1]:void 0;return"ADD_VID"===t.type?Object(s.a)(Object(s.a)({},e),{},{list:t.payload}):e},buyBtnIsOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.buyBtnIsOpen,t=arguments.length>1?arguments[1]:void 0;return"CHANGE_IS_OPEN"===t.type?Object(s.a)(Object(s.a)({},e),{},{isOpened:!e.isOpened}):e}}),D=Object(k.b)(S,T,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(Object(h.jsx)(p.a,{store:D,children:Object(h.jsx)(N,{})}),document.getElementById("root")),w()}},[[42,1,2]]]);
//# sourceMappingURL=main.1aa635da.chunk.js.map